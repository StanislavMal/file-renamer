<!DOCTYPE html>
<html lang="ru" data-theme="light">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>File Renamer</title>
    <link rel="preconnect" href="https://rsms.me/">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <link href="/src/style.css" rel="stylesheet"/>
</head>
<body>
<div id="app">
    <!-- Titlebar -->
    <div class="window-titlebar">
        <div class="titlebar-drag" data-wails-drag>
            <div class="titlebar-title">
                <span class="titlebar-icon">üìÅ</span>
                File Renamer
            </div>
        </div>
        <div class="titlebar-controls" data-wails-no-drag>
            <button class="titlebar-button minimize" id="minimize-btn" type="button">
                <svg width="12" height="12" viewBox="0 0 12 12">
                    <rect x="0" y="5" width="12" height="2" fill="currentColor"/>
                </svg>
            </button>
            <button class="titlebar-button maximize" id="maximize-btn" type="button">
                <svg width="12" height="12" viewBox="0 0 12 12">
                    <rect x="1" y="1" width="10" height="10" stroke="currentColor" stroke-width="2" fill="none"/>
                </svg>
            </button>
            <button class="titlebar-button close" id="close-btn" type="button">
                <svg width="12" height="12" viewBox="0 0 12 12">
                    <path d="M1 1L11 11M11 1L1 11" stroke="currentColor" stroke-width="2"/>
                </svg>
            </button>
        </div>
    </div>

    <!-- Main content -->
    <div class="container">
        <div class="header">
            <h1>–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤</h1>
            <p>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</p>
        </div>

        <!-- –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã -->
        <div class="mode-selector">
            <div class="mode-buttons">
                <button data-mode="pairing" class="active" type="button">
                    <span class="mode-icon">üîó</span>
                    –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
                </button>
                <button data-mode="batch" type="button">
                    <span class="mode-icon">üì¶</span>
                    –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
                </button>
            </div>
        </div>

        <!-- –í—ã–±–æ—Ä –ø–∞–ø–æ–∫ -->
        <div class="folders-section">
            <div class="folder-row">
                <label>–¶–µ–ª–µ–≤–∞—è –ø–∞–ø–∫–∞:</label>
                <div class="input-with-button">
                    <input type="text" id="target-path" class="input" placeholder="–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É..." readonly>
                    <button id="target-browse-btn" class="btn btn-compact" type="button">–û–±–∑–æ—Ä</button>
                </div>
                <small id="target-count" class="file-count">–§–∞–π–ª–æ–≤: 0</small>
            </div>

            <div class="folder-row" id="source-group">
                <label>–ü–∞–ø–∫–∞ —Å –æ–±—Ä–∞–∑—Ü–∞–º–∏:</label>
                <div class="input-with-button">
                    <input type="text" id="source-path" class="input" placeholder="–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É..." readonly>
                    <button id="source-browse-btn" class="btn btn-compact" type="button">–û–±–∑–æ—Ä</button>
                </div>
                <small id="source-count" class="file-count">–§–∞–π–ª–æ–≤: 0</small>
            </div>
        </div>

        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞ -->
        <div class="content-area">
            <!-- –†–µ–∂–∏–º —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è -->
            <div id="pairing-mode" class="mode-content active">
                <div class="pairing-controls">
                    <button id="map-in-order-btn" class="btn btn-compact" type="button">
                        <span>‚ö°</span> –°–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ –ø–æ—Ä—è–¥–∫—É
                    </button>
                    <div style="flex: 1;"></div>
                    <button id="reset-btn" class="btn btn-compact" type="button">–°–±—Ä–æ—Å</button>
                    <button id="rename-btn" class="btn btn-primary btn-compact" type="button" disabled>
                        <span>‚úì</span> –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å
                    </button>
                </div>

                <div class="lists-container">
                    <div class="file-list-panel">
                        <div class="panel-header">
                            <h3>–¶–µ–ª–µ–≤—ã–µ —Ñ–∞–π–ª—ã</h3>
                            <span class="count-badge">
                                <span id="target-visible-count">0</span> / <span id="target-total-count">0</span>
                            </span>
                        </div>
                        <div class="file-list" id="target-list" data-list="target"></div>
                    </div>

                    <div class="file-list-panel">
                        <div class="panel-header">
                            <h3>–§–∞–π–ª—ã-–æ–±—Ä–∞–∑—Ü—ã</h3>
                            <span class="count-badge">
                                <span id="source-visible-count">0</span> / <span id="source-total-count">0</span>
                            </span>
                        </div>
                        <div class="file-list" id="source-list" data-list="source"></div>
                    </div>
                </div>
            </div>

            <!-- –†–µ–∂–∏–º –ø–∞–∫–µ—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ -->
            <div id="batch-mode" class="mode-content">
                <div class="batch-layout">
                    <div class="batch-form">
                        <div class="form-section">
                            <h4>–ó–∞–º–µ–Ω–∞ —Ç–µ–∫—Å—Ç–∞</h4>
                            <div class="input-group-compact">
                                <input type="text" id="batch-find" class="input input-sm" placeholder="–ù–∞–π—Ç–∏...">
                                <span class="arrow">‚Üí</span>
                                <input type="text" id="batch-replace" class="input input-sm" placeholder="–ó–∞–º–µ–Ω–∏—Ç—å...">
                            </div>
                        </div>

                        <div class="form-section">
                            <h4>–£–¥–∞–ª–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤</h4>
                            <div class="input-group-compact">
                                <input type="number" id="batch-remove-start" class="input input-sm" 
                                    placeholder="–° –Ω–∞—á–∞–ª–∞" min="0" value="0">
                                <input type="number" id="batch-remove-end" class="input input-sm" 
                                    placeholder="–° –∫–æ–Ω—Ü–∞" min="0" value="0">
                            </div>
                        </div>

                        <div class="form-section">
                            <h4>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞</h4>
                            <div class="input-group-compact">
                                <input type="text" id="batch-prefix" class="input input-sm" placeholder="–ü—Ä–µ—Ñ–∏–∫—Å...">
                            </div>
                            <div class="input-group-compact">
                                <input type="text" id="batch-suffix" class="input input-sm" placeholder="–°—É—Ñ—Ñ–∏–∫—Å...">
                            </div>
                        </div>

                        <div class="form-section">
                            <h4>–ù—É–º–µ—Ä–∞—Ü–∏—è</h4>
                            <div class="numbering-controls">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="batch-numbering">
                                    <span>–î–æ–±–∞–≤–∏—Ç—å –Ω—É–º–µ—Ä–∞—Ü–∏—é</span>
                                </label>
                                <div class="numbering-options" id="numbering-options">
                                    <select id="batch-number-position" class="input input-sm">
                                        <option value="prefix">–í –Ω–∞—á–∞–ª–µ</option>
                                        <option value="suffix">–í –∫–æ–Ω—Ü–µ</option>
                                    </select>
                                    <input type="text" id="batch-number-format" class="input input-sm" 
                                        placeholder="000" value="000" maxlength="6"
                                        title="–§–æ—Ä–º–∞—Ç: 0, 00, 000 –∏ —Ç.–¥.">
                                    <input type="number" id="batch-number-start" class="input input-sm" 
                                        placeholder="–ù–∞—á–∞—Ç—å —Å..." value="1" min="0">
                                </div>
                            </div>
                        </div>

                        <div class="batch-actions">
                            <button id="batch-reset-btn" class="btn btn-compact" type="button">–°–±—Ä–æ—Å</button>
                            <button id="batch-rename-btn" class="btn btn-primary btn-compact" type="button" disabled>
                                <span>‚úì</span> –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å
                            </button>
                        </div>
                    </div>

                    <div class="batch-files-panel">
                        <div class="panel-header">
                            <h3>–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã</h3>
                            <span class="count-badge">
                                <span id="batch-visible-count">0</span> / <span id="batch-total-count">0</span>
                            </span>
                        </div>
                        <div class="file-list" id="batch-list" data-list="batch"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä -->
        <div class="preview-section">
            <div class="preview-header">
                <h3>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</h3>
                <span id="preview-count" class="count-badge"></span>
            </div>
            <div id="preview-content" class="preview-content">
                <p class="text-muted">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª—ã –¥–ª—è –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è</p>
            </div>
        </div>

        <!-- Theme switcher -->
        <div class="theme-switcher">
            <div class="theme-buttons">
                <button data-theme="Light" type="button" title="–°–≤–µ—Ç–ª–∞—è">‚òÄÔ∏è</button>
                <button data-theme="Dark" type="button" title="–¢—ë–º–Ω–∞—è">üåô</button>
                <button data-theme="System" type="button" title="–°–∏—Å—Ç–µ–º–Ω–∞—è">‚öôÔ∏è</button>
            </div>
        </div>
    </div>
</div>

<!-- Custom Modal -->
<div id="modal-overlay" class="modal-overlay">
    <div class="modal-box">
        <div class="modal-icon" id="modal-icon"></div>
        <div class="modal-title" id="modal-title"></div>
        <div class="modal-message" id="modal-message"></div>
        <div class="modal-buttons" id="modal-buttons"></div>
    </div>
</div>

<script src="/src/main.js" type="module"></script>
</body>
</html>